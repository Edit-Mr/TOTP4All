<!-- @format -->

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>TOTP4All - A open soure TOTP generator</title>
        <link
            href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="src/style.css" />
    </head>
    <body>
        <div class="nav-vertical">
            <a href="" target="_blank"
                ><span class="material-symbols-outlined">home</span
                ><span class="icon-caption">Home</span></a
            >
            <a href="" target="_blank"
                ><span class="material-symbols-outlined">play_circle</span
                ><span class="icon-caption">TOTP4All</span></a
            >
            <a href="" target="_blank"
                ><span class="material-symbols-outlined">question_mark</span
                ><span class="icon-caption">What is TOTP?</span></a
            >
            <a href="" target="_blank"
                ><span class="material-symbols-outlined">description</span
                ><span class="icon-caption">How does it Work?</span></a
            >
            <div class="space"></div>
            <a href="" target="_blank"
                ><div class="github">
                    <img src="src/github-mark-white.svg" alt="GitHUb" />
                </div>
                <span class="icon-caption">GitHub Repo</span></a
            >
        </div>
        <main>
            <header>
                <div>
                    <h1 class="aos slideIn">TOTP4All</h1>
                    <p>A open source TOTP keeper and generator.</p>
                    <a href="totp">Get Started</a>
                </div>
                <div class="highlight"></div>
            </header>
            <section class="fixedSection" id="tryLogin">
                <h2 class="aos slideIn">You were trying to login...</h2>
                <div class="login aso slideIn">
                    <div class="loginPage">
                        <h3>Login</h3>
                        <div></div>
                        <div></div>
                        <div class="login-button">login</div>
                    </div>
                </div>
            </section>
            <section class="h50"></section>
            <section class="fixedSection">
                <h2>So you open your authenticator app...</h2>
                <div class="login">
                    <div class="loginPage authPage">
                        <h3>2FA</h3>
                        <div></div>
                    </div>
                </div>
            </section>
            <div id="authCalc">
                <div>
                    <h2 class="aos slideIn">
                        It generates a verification code every 30 seconds.
                    </h2>
                    <div class="math">
                        <div class="key">
                            <span class="material-symbols-outlined">key</span>
                            <h3>Account Key</h3>
                        </div>
                        <div class="totp-box">
                            <div>
                                <span class="material-symbols-outlined">
                                    pin
                                </span>
                                <h3>TOTP Code</h3>
                            </div>
                        </div>
                        <div class="time">
                            <span class="material-symbols-outlined">
                                schedule
                            </span>
                            <h3>Current Time</h3>
                        </div>
                    </div>
                    <h2>If a hacker wants to crack</h2>
                    <h3>your verification code, he have to try</h3>
                    <div class="try">
                        <div class="fraction">
                            <div>1000000</div>
                            <div>30</div>
                        </div>
                        <h3>=</h3>
                        <h3>33333 times per sec.</h3>
                    </div>
                    <h4 class="aos">
                        Which I don't think any app allows you to do so...
                    </h4>
                    <h2 class="verySafe aos">
                        Seems like it's very safe right?
                    </h2>
                </div>
            </div>
            <section class="h50"></section>
            <section class="marquee">
                <div>
                    is out of battery. is broken. is wet. is exploded. is gone.
                    is lagging. is locked.
                </div>
                <div>
                    is left at home. is left in car. is left in office. is left
                    in bathroom.
                </div>
                <div>
                    your friend took it. your mom took it. your dad took it.
                    your girlfriend took it. your boyfriend took it. your
                    teacher took it. your child took it.
                </div>
                <div>
                    storage is full. app has a bug. operating system is
                    outdated. blocked by a firewall. clock is incorrect.
                </div>
                <div>
                    is overheated. servers are down. license has expired.
                    disabled by a device administrator.
                </div>
                <div>
                    you deleted the app. you reset you phone. you forgot the
                    password.
                </div>
            </section>
            <div id="sucks">
                <h3 class="aos slideIn">That's sucks, but dont worry.</h3>
                <h2 id="introduce" class="aos slideIn">Introducings</h2>
                <div class="intro-lines">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
                <h2 class="aos slideIn">TOTP4All</h2>
                <p class="aos">
                    TOTP for all in a online tool that can help you crypt and
                    save your TOTP secrets with custom password. The crypt
                    secret will look just like the original one, but you can
                    only get the real verification code by decrypt it with your
                    password.
                </p>
            </div>
            <section id="">
                <div class="crypting">
                    <div>
                        <div>
                            <span class="material-symbols-outlined"> key </span>
                            Original key
                        </div>
                        <h3>original</h3>
                    </div>
                    <span class="material-symbols-outlined"> add </span>
                    <div>
                        <div>
                            <span class="material-symbols-outlined">
                                password
                            </span>
                            Password
                        </div>
                        <h3>:hX1GgUg</h3>
                    </div>
                    <span class="material-symbols-outlined">
                        chevron_right
                    </span>
                    <div>
                        <div>
                            <span class="material-symbols-outlined">
                                encrypted
                            </span>
                            Encrypted key
                        </div>
                        <h3>anything</h3>
                    </div>
                </div>
                <div class="crypting">
                    <div>
                        <div>
                            <span class="material-symbols-outlined">
                                encrypted
                            </span>
                            Encrypted key
                        </div>
                        <h3>anything</h3>
                    </div>

                    <span class="material-symbols-outlined"> add </span>
                    <div>
                        <div>
                            <span class="material-symbols-outlined">
                                password
                            </span>
                            correct Password
                        </div>
                        <h3>:hX1GgUg</h3>
                    </div>
                    <span class="material-symbols-outlined">
                        chevron_right
                    </span>
                    <div>
                        <div>
                            <span class="material-symbols-outlined">
                                key
                            </span>
                           Right code
                        </div>
                        <h3>123456</h3>
                    </div>
                </div>
                <div class="crypting">
                    <div>
                        <div>
                            <span class="material-symbols-outlined">
                                encrypted
                            </span>
                            Encrypted key
                        </div>
                        <h3>anything</h3>
                    </div>

                    <span class="material-symbols-outlined"> add </span>
                    <div>
                        <div>
                            <span class="material-symbols-outlined">
                                password
                            </span>
                            Wrong Password
                        </div>
                        <h3>xE!wjOeA</h3>
                    </div>
                    <span class="material-symbols-outlined">
                        chevron_right
                    </span>
                    <div>
                        <div>
                            <span class="material-symbols-outlined">
                                dangerous
                            </span>
                            Wrong code
                        </div>
                        <h3>078394</h3>
                    </div>
                </div>
                <div class="intro-wrapper">
                    <div>
                        Every saved cryped secret will be public on this
                        website, so you can access it anywhere. However, you can
                        also run this site and save your secret locally, so no
                        one can access it except you.
                    </div>
                    <div class="face">
                        <span class="material-symbols-outlined">
                            face
                            </span>
                        <span class="material-symbols-outlined">
                            lock
                            </span>
                    </div>
                </div>
            </section>
        </main>
        <section id="however">
            <h2>However</h2>
        </section>
        <section class="fixedSection" id="fixedSection">
            <h2>
                <span>You were trying to login...</span>
                <div>To keep your account safe, you turned on 2FA</div>
            </h2>
            <div class="login">
                <div class="loginPage">
                    <h3>Login</h3>
                    <div class="login-account"></div>
                    <div class="login-password"></div>
                    <div class="login-button login-button-user">login</div>
                </div>
                <div class="loginPage authPage">
                    <h3>2FA</h3>
                    <div></div>
                </div>
            </div>
        </section>
        <div class="hand">
            <div class="phone">
                <div class="circle"></div>
                <div class="circleCode"></div>
            </div>
        </div>
        <span class="a">a</span>
        <script>
            const title = document.querySelector("h1+p");

            const titleText = "A open source TOTP keeper and generator.";
            const typeAnimation = () => {
                for (let j = 0; j <= titleText.length; j++) {
                    window.setTimeout(function () {
                        for (let k = 0; k <= 1; k++) {
                            var correct = randomText(j);
                            correct += titleText.slice(j, titleText.length);
                            title.innerText = correct;
                        }
                    }, 50 * j);
                }
                for (let j = 0; j <= titleText.length; j++) {
                    window.setTimeout(function () {
                        for (let k = 0; k <= 1; k++) {
                            var correct = titleText.slice(0, j);
                            correct += randomText(titleText.length - j);
                            title.innerText = correct;
                        }
                    }, 50 * j + 50 * titleText.length);
                }
            };
            setInterval(typeAnimation, 100 * titleText.length + 5000);
            typeAnimation();
            window.addEventListener("resize", function () {
                typeAnimation();
            });
            const box =
                "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";

            const randomText = amount => {
                var a = "";
                for (var i = 0; i < amount; i++)
                    a += box[Math.floor(Math.random() * box.length)];
                return a;
            };
            const bg = document.querySelector(".highlight");
            const bluh = e => {
                const singleText = document.querySelector(".a");
                const total =
                    (window.innerWidth * window.innerHeight) /
                    singleText.offsetWidth /
                    singleText.offsetHeight;
                bg.innerText = randomText(total);
                if (!e) return;
                bg.style.setProperty("--x", `${e.clientX}px`);
                bg.style.setProperty("--y", `${e.clientY}px`);
            };
            document.querySelector("header").onmousemove = e => bluh(e);
            bluh();

            const tryLogin = document.getElementById("tryLogin");
            const fixedSection = document.getElementById("fixedSection");
            const verySafe = document.querySelector(".verySafe");
            const however = document.getElementById("however");
            const howeverText = document.querySelector("#however>h2");
            window.addEventListener("scroll", function () {
                if (tryLogin.getBoundingClientRect().top <= 0) {
                    fixedSection.style.position = "fixed";
                    fixedSection.style.display = "flex";
                    if (
                        tryLogin.getBoundingClientRect().top >=
                        window.innerHeight / -1
                    ) {
                        fixedSection.classList.remove("page2fa");
                        document
                            .querySelector(".login-button-user")
                            .classList.remove("login-button-active");
                        if (
                            tryLogin.getBoundingClientRect().top >=
                            window.innerHeight / -2
                        ) {
                            document.querySelector(".login-account").innerText =
                                "admin".slice(
                                    0,
                                    (-tryLogin.getBoundingClientRect().top /
                                        window.innerHeight) *
                                        10 +
                                        1
                                );
                            document.querySelector(
                                ".login-password"
                            ).innerText = "";
                        } else {
                            document.querySelector(".login-account").innerText =
                                "admin";
                            document.querySelector(
                                ".login-password"
                            ).innerText = "**********".slice(
                                0,
                                (tryLogin.getBoundingClientRect().top /
                                    window.innerHeight) *
                                    -18 -
                                    8
                            );
                        }
                    } else if (
                        tryLogin.getBoundingClientRect().top >=
                        -window.innerHeight * 1.25
                    ) {
                        document.querySelector(".login-account").innerText =
                            "admin";
                        document.querySelector(".login-password").innerText =
                            "**********";
                        document
                            .querySelector(".login-button-user")
                            .classList.add("login-button-active");
                    } else {
                        document
                            .querySelector(".login-button-user")
                            .classList.remove("login-button-active");
                        fixedSection.classList.add("page2fa");
                        if (
                            tryLogin.getBoundingClientRect().top <
                            -window.innerHeight * 1.5
                        ) {
                            fixedSection.style.display = "none";
                            var math = document.querySelector(".math");
                            math.classList.toggle(
                                "math-active",
                                math.getBoundingClientRect().top <
                                    (window.innerHeight / 3) * 2
                            );
                        }
                    }
                } else {
                    fixedSection.style.position = "static";
                    fixedSection.style.display = "none";
                }
                fixedSection.classList.toggle(
                    "takephone",
                    tryLogin.getBoundingClientRect().bottom <
                        -window.innerHeight * 1 &&
                        verySafe.getBoundingClientRect().bottom >=
                            window.innerHeight / 2
                );
                if (
                    verySafe.getBoundingClientRect().bottom <
                    window.innerHeight / 2
                ) {
                    if (
                        verySafe.getBoundingClientRect().bottom /
                            window.innerHeight <
                        -0.5
                    ) {
                        document
                            .querySelector(".marquee")
                            .classList.add("marquee-start");
                        however.classList.remove("verySafe-active");
                        return;
                    }
                    document
                        .querySelector(".marquee")
                        .classList.remove("marquee-start");
                    however.classList.add("verySafe-active");
                    // .5 .4 .3 .2 .1 0.1
                    var texts = [
                        "<span>If your phone</span>",
                        "In Contrast",
                        "Nevertheless",
                        "However",
                        "<span>But</span>",
                    ];
                    console.log(
                        Math.floor(
                            (verySafe.getBoundingClientRect().bottom /
                                window.innerHeight) *
                                10
                        )
                    );
                    howeverText.innerHTML =
                        texts[
                            Math.floor(
                                ((verySafe.getBoundingClientRect().bottom /
                                    window.innerHeight) *
                                    10 +
                                    5) /
                                    2
                            )
                        ];
                } else {
                    however.classList.remove("verySafe-active");
                }
            });

            const circle = document.querySelector(".circle");
            let angle = 360;
            const circleCode = document.querySelector(".circleCode");
            function animateCircle() {
                circle.style.background = `conic-gradient(blue 0deg ${angle++}deg, var(--white) ${angle}deg 360deg)`;
                if (angle >= 360) {
                    angle = 0;
                    circleCode.innerText = Math.floor(Math.random() * 1000000)
                        .toString()
                        .padStart(6, "0");
                }
                requestAnimationFrame(animateCircle);
            }
            animateCircle();
            // animate on scroll
            function isElementInViewport(el) {
                const rect = el.getBoundingClientRect();
                return rect.bottom < 0 || rect.top > window.innerHeight;
            }

            function addClassToVisibleElements() {
                var aosElements = document.querySelectorAll(".aos");
                aosElements.forEach(function (aosElement) {
                    if (!isElementInViewport(aosElement))
                        aosElement.classList.add("ed");
                    else aosElement.classList.remove("ed");
                });
            }

            document.addEventListener("scroll", addClassToVisibleElements);
            addClassToVisibleElements();
        </script>
    </body>
</html>
