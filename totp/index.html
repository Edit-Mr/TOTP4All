<!-- @format -->

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <div>
            <label>Computed code</label>
            <div class="label1"></div>
        </div>
        <h1>Alphanumeric String Encryption and Decryption</h1>
        <label for="originalString">Original String:</label>
        <input type="text" id="originalString" />
        <label for="password">Password:</label>
        <input type="password" id="password" />
        <button onclick="encryptAndDisplay(1)">Encrypt</button>
        <button onclick="encryptAndDisplay(-1)">Decrypt</button>
        <p>Encrypted String: <span id="encryptedString"></span></p>
        <script>
            const all = "abcdefghijklmnopqrstuvwxyz0123456789";
            const shifter = (letter, pass, direction) => {
                var add =
                    (all.indexOf(letter) + pass.charCodeAt(0) * direction) %
                    all.length;
                while (add < 0) add += all.length;
                return all[add];
            };
            function encryptAndDisplay(direcction) {
                var originalString =
                    document.getElementById("originalString").value;
                const password = document.getElementById("password").value;
                const passwordLength = password.length;
                const encryptTimes =
                    Math.ceil(passwordLength / originalString.length);
                    console.log(encryptTimes)
                for (var j = 0; j < encryptTimes; j++) {
                    var encryptedString = "";
                    for (var i = 0; i < originalString.length; i++)
                        encryptedString += shifter(
                            originalString[i],
                            password[i % passwordLength],
                            direcction
                        );
                    originalString = encryptedString;
                }
                document.getElementById("encryptedString").innerText =
                    encryptedString;
            }
        </script>
    </body>
</html>
